<?xml version='1.0' encoding='UTF-8'?>
<odoo>

  <record model="ir.ui.view" id="personalizations_robertocala.ir_ui_view_2742">
    <field name="name">Vista Personalizada</field>
    <field name="model">account.move</field>
    <field name="priority">100</field>
    <field ref="account.view_move_form" name="inherit_id"/>
    <field type="xml" name="arch">

      <button name="action_reverse" position="after">
        <button name="%(personalizations_robertocala.ir_act_server_1025)d" type="action" string="Generar Facturas" attrs="{'invisible': ['|','|',('company_id', '=', 3), ('state', '!=', 'draft'), ('type', 'not in', ('out_invoice', 'out_refund'))]}" class="oe_highlight"/>
      </button>
      <field name="invoice_line_ids" position="before">
        <button name="%(personalizations_robertocala.ir_act_server_1273)d" string="Update Prices" type="action" attrs="{'invisible':['|',('state','!=', 'draft'),('type', 'not in', ('in_invoice', 'in_refund'))]}"/>
      </field>
      <xpath expr="//field[@name='invoice_line_ids']/tree/field[@name='account_id']" position="attributes">
        <attribute name="attrs">{'invisible':[('parent.move_type', 'in', ('in_invoice', 'in_refund'))]}</attribute>
      </xpath>
      <!-- <xpath expr="/field[@name='invoice_line_ids']/tree/field[@name='analytic_account_id']" position="attributes">
        <attribute name="attrs">{'invisible':[('parent.move_type', 'in', ('in_invoice', 'in_refund'))]}</attribute>
      </xpath>
      <xpath expr="/field[@name='invoice_line_ids']/tree/field[@name='analytic_tag_ids']" position="attributes">
        <attribute name="attrs">{'invisible':[('parent.move_type', 'in', ('in_invoice', 'in_refund'))]}</attribute>
      </xpath> -->
      <field name="quantity" position="after">
        <field name="x_replenishment_base_cost_on_currency" attrs="{'invisible':[('parent.move_type', 'not in', ('in_invoice', 'in_refund'))]}"/>
      </field>
    </field>
  </record>
</odoo>
