<?xml version='1.0' encoding='UTF-8'?>
<odoo>
  <record id="personalizations_winwineducation.ir_ui_view_2849_d4b3f9f0" model="ir.ui.view">
    <field name="name">personalizacion - permitir modificar name</field>
    <field name="model">sale.subscription</field>
    <field ref="sale_subscription.sale_subscription_view_form" name="inherit_id"/>
    <field type="xml" name="arch">
      <data>
        <!-- el campo name nativamente en odoo no se usa para nada y se setea igual al code (refencia de la suscripcion), nosotros lo queremos aprovechar para poder llevar el alumno a las facturas-->
        <field name="partner_id" position="after">
          <field name="name" string="Alumno"/>
        </field>
        <field name="payment_token_id" position="attributes">
          <attribute name="attrs"/>
          <!-- como tienen suscripciones a la flia pero el contacto en el token es el contacto, permitimos tmb buscar por el name, la idea es depreciar esto mas addelante-->
          <attribute name="domain">['|', ('partner_id', '=', partner_id), ('partner_id.display_name', 'ilike', name)]</attribute>
        </field>
      </data>
    </field>
  </record>
  <record id="personalizations_winwineducation.ir_ui_view_5411_f0f502a1" model="ir.ui.view">
    <field name="name">Cobros tu cuota</field>
    <field name="model">sale.subscription</field>
    <field ref="sale_subscription.sale_subscription_view_search" name="inherit_id"/>
    <field type="xml" name="arch">
      <data>
        <separator position="after">
          <filter string="TuCuota - Debito" name="payment_token_id" domain="[('payment_token_id.x_tc_card_type', '=', 'debit'), ('payment_token_id.acquirer_id.name', 'like', 'TuCuota'), ('payment_token_id.acquirer_id.journal_id', '!=', False)]"/>
          <filter string="TuCuota - Credito" name="payment_token_id" domain="[('payment_token_id.x_tc_card_type', '=', 'credit'), ('payment_token_id.acquirer_id.name', 'like', 'TuCuota'), ('payment_token_id.acquirer_id.journal_id', '!=', False)]"/>
          <filter string="Sin TuCuota" name="payment_token_id" domain="[('payment_token_id', '=', False)]"/>
          <!--<filter string="TuCuota - Credito" domain=""/>-->
          <separator/>
        </separator>
      </data>
    </field>
  </record>
  <record id="personalizations_winwineducation.ir_ui_view_5657_199ca7b9" model="ir.ui.view">
    <field name="name">x_renewal_lead_id</field>
    <field name="model">sale.subscription</field>
    <field ref="sale_subscription.sale_subscription_view_form" name="inherit_id"/>
    <field type="xml" name="arch">
      <field name="team_id" position="after">
        <field name="x_renewal_lead_id" readonly="1"/>
        <field name="x_renewal_state"/>
      </field>
    </field>
  </record>
</odoo>
