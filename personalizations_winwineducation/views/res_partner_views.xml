<?xml version='1.0' encoding='UTF-8'?>
<odoo>

  <record id="personalizations_winwineducation.ir_ui_view_5316_6d2ac58a" model="ir.ui.view">
    <field name="name">x_authorized_contact</field>
    <field name="model">res.partner</field>
    <field ref="base.view_partner_form" name="inherit_id"/>
    <field type="xml" name="arch">
      <field name="category_id" position="after">
        <field name="semaforo"/>
        <field name="tipo_de_mora" options="{'no_create_edit': True}"/>
        <field name="x_fecha_ultimo_contacto"/>
      </field>
      <field name="medical_insurance" position="replace"/>
      <page name="fiscal_data" position="after">
        <page name="matriculacion" string="Matriculacion" attrs="{'invisible' : [('partner_type', '!=', 'student')]}">
          <group>
            <field name="x_matricula"/>
            <field name="x_no_matricula_motivo" attrs="{'invisible':[('x_matricula','=',True)]}"/>
            <field name="x_no_matricula_motivo_otros" attrs="{'invisible':['|',('x_matricula','=',True),('x_no_matricula_motivo','!=','ot')]}"/>
          </group>
        </page>
      </page>
      <page name="internal_notes" position="before">
        <page name="informacion_salud" string="Información de Salud" attrs="{'invisible' : [('partner_type', '!=', 'student')]}">
          <group>
            <field name="medical_insurance"/>
            <field name="enfermedad_requiere_tratamiento"/>
            <field name="internado"/>
            <field name="alergia"/>
            <field name="manifestacion_alergia" attrs="{'invisible' : [('alergia', '!=', True)]}"/>
            <field name="recibe_tratamiento"/>
            <field name="tratamiento_medico"/>
            <field name="tratamiento_quirurgico"/>
            <field name="edad_tratamiento_quirurgico" attrs="{'invisible' : [('tratamiento_quirurgico', '!=', True)]}"/>
            <field name="tipo_cirugia"/>
            <field name="limitacion_fisica"/>
            <field name="otros_problemas_salud"/>
          </group>
        </page>
        <page name="authorized_contact" string="Autorización" attrs="{'invisible' : [('partner_type', '!=', 'student')]}">
          <group>
            <field name="x_authorized_emergency_contacts" nolabel="1">
              <tree editable="bottom">
                <field name="x_type"/>
                <field name="x_contact_name"/>
                <field name="x_contact_dni"/>
                <field name="x_observations"/>
              </tree>
            </field>
          </group>
        </page>
        <page name="anchored_pages" string="Actualización de Datos" attrs="{'invisible' : [('partner_type', '!=', 'student')]}">
          <group>
            <field name="anchored_survey_page_ids" nolabel="1">
              <tree editable="bottom">
                <field name="survey_id"/>
                <field name="title"/>
                <button name="open_anchor" icon="fa-pencil-square-o" type="object" context="{'partner_id': parent.id}"/>
              </tree>
            </field>
          </group>
        </page>
      </page>
      <field name="disabled_person" position="after">
        <field name="x_disabled_person_description" attrs="{'invisible' : [('disabled_person', '=', False)]}"/>
      </field>
      <field name="promotion_id" position="after">
        <field name="como_conocio_colegio"/>
        <field name="modalidad_pago"/>
        <field name="accede_descuento"/>
      </field>
      <field name="dni" position="after">
        <field name="vat" string="CUIT"/>
      </field>
      <field name="dni" position="before">
        <field name="tipo_relacion" attrs="{'invisible': [('partner_type','!=','parent')]}"/>
        <field name="curso_actual"/>
      </field>
    </field>
  </record>

  <!-- res.partner tree view -->
  <record id="reporte_alumnos_view_tree" model="ir.ui.view">
    <field name="name">reporte.alumnos.view.tree</field>
    <field name="model">res.partner</field>
    <field name="priority" eval="99"/>
    <field name="arch" type="xml">
      <tree>
        <!-- Add your fields here -->
        <field name="name"/>
        <field name="curso_actual"/>
      </tree>
    </field>
  </record>
  <record id="customer_statements_tree_view_inherit" model="ir.ui.view">
    <field name="name">customer.statements.tree.inherit</field>
    <field name="model">res.partner</field>
    <field name="priority">99</field>
    <field ref="account_followup.customer_statements_tree_view" name="inherit_id"/>
    <field name="arch" type="xml">
      <field name="followup_status" position="after">
        <field name="semaforo"/>
        <field name="tipo_de_mora"/>
        <field name="x_fecha_ultimo_contacto"/>
        <button type="object" icon="fa-pencil-square-o" name="open_partner_ledger" context="{'default_partner_id': active_id}"/>
      </field>
      <tree position="attributes">
        <attribute name="decoration-success">not semaforo</attribute>
        <attribute name="decoration-warning">semaforo == '1'</attribute>
        <attribute name="decoration-muted">semaforo == '2'</attribute>
        <attribute name="decoration-danger">semaforo == '3'</attribute>
        <attribute name="decoration-bf">semaforo == '999'</attribute>
      </tree>
      <field name="followup_status" position="attributes">
        <attribute name="invisible">1</attribute>
      </field>
      <field name="total_overdue" position="attributes">
        <attribute name="invisible">1</attribute>
      </field>
      <field name="followup_level" position="attributes">
        <attribute name="invisible">1</attribute>
      </field>
    </field>
  </record>
</odoo>
