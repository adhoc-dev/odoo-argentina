<?xml version='1.0' encoding='UTF-8'?>
<odoo>
  <template id="boggio_payment" inherit_id="l10n_ar_ux.report_payment_group_document">
    <t t-foreach="o.mapped('payment_ids.check_ids').sorted(key=lambda r:r.payment_date or r.issue_date)" position="after">
      <span t-if="o.mapped('payment_ids.check_ids').sorted(key=lambda r:r.payment_date or r.issue_date)" t-esc="'Cant Cheques: %s' % len(o.mapped('payment_ids.check_ids').sorted(key=lambda r:r.payment_date or r.issue_date))"/>
    </t>

    <span t-esc="o.partner_id.l10n_ar_formatted_vat or o.partner_id.vat" position="after">
      <span t-esc="o.partner_id.commercial_partner_id.x_desc_pago_prov"/>
    </span>
    <table name="open_table" position="after">
      <table class="table table-sm o_main_table" name="open_table" t-if="o.partner_type=='customer' and o.partner_id.bank_ids" groups="l10n_ar_ux.group_include_pending_receivable_documents">
        <thead>
            <tr>
                <th class="text-left"><span>Banco</span></th>
                <th class="text-left"><span>Nro. de Cuenta</span></th>
            </tr>
        </thead>
        <tbody>
            <t t-foreach="o.partner_id.bank_ids" t-as="line">
                <tr>
                    <td><span t-field="line.bank_id.name"/></td>
                    <td><span t-field="line.acc_number"/></td>
                </tr>
            </t>
        </tbody>
    </table>
      <br/>
      <strong class="text-left">SON:</strong>
      <span t-esc="o.currency_id.amount_to_text(o.payments_amount)"/>
      <br/>
    </table>
    <table name="open_table" position="attributes">
      <attribute name="t-if">o.partner_id.commercial_partner_id.internal_code !='C1'</attribute>
    </table>
  </template>
</odoo>