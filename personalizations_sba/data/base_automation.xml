<?xml version='1.0' encoding='UTF-8'?>
<odoo>
  <record id="personalizations_sba.base_automation_1" model="base.automation">
    <field name="name">valores por defecto en ventas</field>
    <field ref="delivery.model_sale_order" name="model_id"/>
    <field name="state">code</field>
    <field name="binding_type">action</field>
    <field name="code"># Available variables:
#  - env: Odoo Environment on which the action is triggered
#  - model: Odoo Model of the record on which the action is triggered; is a void recordset
#  - record: record on which the action is triggered; may be void
#  - records: recordset of all records on which the action is triggered in multi-mode; may be void
#  - time, datetime, dateutil, timezone: useful Python libraries
#  - log: log(message, level='info'): logging function to record debug information in ir.logging table
#  - Warning: Warning Exception to use with raise
# To return an action, assign: action = {...}
if not record.partner_id.sale_type:
  type_id = env['ir.default'].sudo().get('sale.order', 'type_id', company_id=record.company_id.id, user_id=env.user.id)
  if type_id:
    record.update({'type_id':type_id})


</field>
    <field name="on_change_fields">partner_id</field>
    <field name="trg_date_range_type">day</field>
    <field name="trigger">on_change</field>
  </record>
</odoo>
