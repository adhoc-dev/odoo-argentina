<?xml version='1.0' encoding='UTF-8'?>
<odoo>
  <record id="personalizations_arbusta.odoo_studio_crm_lead_0c96e868-a2b3-41f7-b36d-c0b06c197bb1" model="ir.ui.view">
    <field name="name">Odoo Studio: crm.lead.form.opportunity customization</field>
    <field name="model">crm.lead</field>
    <field name="inherit_id" ref="crm.crm_lead_view_form"/>
    <field name="arch" type="xml">
      <data>
        <xpath expr="//field[@name='planned_revenue']" position="attributes">
          <attribute name="help">Ingreso esperado total (contrato)</attribute>
        </xpath>
        <xpath expr="//field[@name='partner_id']" position="attributes">
          <attribute name="attrs">{"required": ["|",["stage_id","=",3],["stage_id","=",6]]}</attribute>
        </xpath>
        <xpath expr="//field[@name='phone']" position="after">
          <field name="x_studio_field_9ZMsr" string="Origen" attrs="{'required': ['|',['stage_id','=',3],['stage_id','=',6]]}"/>
        </xpath>
        <xpath expr="//field[@name='date_deadline']" position="before">
          <field name="x_project_currency"/>
          <field name="x_studio_field_eegYH" string="Rate mensual" attrs="{'required': ['|',['stage_id','=',3],['stage_id','=',6]]}" widget="monetary"/>
          <field name="x_studio_field_KPykh" string="Horas mensuales" attrs="{'required': ['|','|',['stage_id','=',3],['stage_id','=',6],['x_studio_field_KPykh','!=',0]]}"/>
          <field name="x_studio_field_dtLz9" string="Plazo (meses)" attrs="{'required': ['|',['stage_id','=',3],['stage_id','=',6]]}" help="Pueden cargarse decimales si no corresponde el mes entero"/>
          <field name="x_studio_field_hkOoC" widget="date" string="Inicio estimado" attrs="{'required': ['|',['stage_id','=',3],['stage_id','=',6]]}"/>
        </xpath>
        <xpath expr="//field[@name='user_id']" position="before">
          <field name="company_id"/>
        </xpath>
        <xpath expr="//field[@name='team_id']" position="after">
          <field name="x_studio_field_jyLyQ" string="Check Capacity" widget="boolean_toggle"/>
        </xpath>
        <xpath expr="//field[@name='priority']" position="after">
          <field name="x_studio_field_4OBuE" string="Oficina OPS" help="Si es requisito que el servicio se preste en determinada oficina, seleccionar. De lo contrario pueden asignarse recursos de cualquier oficina" widget="selection" attrs="{'required': ['|',['stage_id','=',3],['stage_id','=',6]]}"/>
          <field name="x_studio_field_1IT3n" string="Tribu" attrs="{'required': ['|','|',['type','=','opportunity'],['stage_id','=',3],['stage_id','=',6]]}"/>
        </xpath>
        <xpath expr="//field[@name='tag_ids']" position="attributes">
          <attribute name="help">Ver archivo Listado Servicios y Subservicios 2019</attribute>
          <attribute name="string">Subservicio</attribute>
        </xpath>
        <xpath expr="//field[@name='tag_ids']" position="after">
          <field name="x_studio_field_8wDdo" widget="selection" string="Idioma requerido" attrs="{'required': ['|','|',['type','=','opportunity'],['stage_id','=',3],['stage_id','=',6]]}"/>
          <field name="x_studio_field_lj29Z" string="Link Calculadora" widget="url" attrs="{'required': ['|',['stage_id','=',3],['stage_id','=',6]]}"/>
          <field name="x_studio_field_Wq8M7" string="Link Propuesta" widget="url" attrs="{'required': ['|',['stage_id','=',3],['stage_id','=',6]]}"/>
        </xpath>
        <field name="date_deadline" position="attributes">
          <attribute name="attrs">{'required': ['|',['stage_id','=',3],['stage_id','=',6]]}</attribute>
        </field>
        <field name="priority" position="attributes">
          <attribute name="attrs">{'required': ['|',['stage_id','=',3],['stage_id','=',6]]}</attribute>
        </field>
        <field name="tag_ids" position="attributes">
          <attribute name="attrs">{'required': ['|',['stage_id','=',3],['stage_id','=',6]]}</attribute>
        </field>
        <field name="name"/>
      </data>
    </field>
  </record>
  <record id="personalizations_arbusta.odoo_studio_crm_lead_bb71804a-e547-4fb2-b834-b210b18b3626" model="ir.ui.view">
    <field name="name">Odoo Studio: crm.lead.tree.opportunity customization</field>
    <field name="model">crm.lead</field>
    <field name="inherit_id" ref="crm.crm_case_tree_view_oppor"/>
    <field name="arch" type="xml">
      <data>
        <xpath expr="//field[@name='activity_summary']" position="replace">
          <field name="x_studio_field_1IT3n"/>
        </xpath>
        <xpath expr="//field[@name='country_id']" position="replace"/>
        <xpath expr="//field[@name='create_date']" position="attributes">
          <attribute name="attrs">{}</attribute>
          <attribute name="invisible">1</attribute>
          <attribute name="widget">date</attribute>
        </xpath>
        <xpath expr="//field[@name='activity_date_deadline']" position="attributes">
          <attribute name="attrs">{}</attribute>
        </xpath>
        <field name="planned_revenue" position="after">
          <field name="x_project_currency"/>
        </field>
      </data>
    </field>
  </record>
  <!-- crm.lead inherit search view -->
  <record id="view_id" model="ir.ui.view">
    <field name="name">crm.lead.inherit.view.search</field>
    <field name="model">crm.lead</field>
    <field name="inherit_id" ref="crm.view_crm_case_opportunities_filter"/>
    <field name="arch" type="xml">
      <!-- Add your xpath here -->
        <field name="city" position="after">
          <field name="x_project_currency"/>
        </field>
        <filter name="country" position="after">
          <filter string="Project Currency" name="Project Currency" domain="[]"  context="{'group_by': 'x_project_currency'}"/>
        </filter>


    </field>
  </record>
</odoo>
